# =============================================================
# PortAct – Production Environment Variables (AWS)
# Copy to .env and fill in real values.
# =============================================================

# ── Domain ────────────────────────────────────────────────────
DOMAIN=your-domain.com

# ── PostgreSQL ────────────────────────────────────────────────
POSTGRES_USER=portact_user
POSTGRES_PASSWORD=CHANGE_ME_USE_A_STRONG_PASSWORD
POSTGRES_DB=portact_db

# ── Application ───────────────────────────────────────────────
APP_NAME=PortAct
APP_VERSION=1.0.0
DEBUG=False
ENVIRONMENT=production
HOST=0.0.0.0
PORT=8000

# ── Security ──────────────────────────────────────────────────
# Generate: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_hex_32
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ── CORS ──────────────────────────────────────────────────────
# Your CloudFront URL or custom domain
BACKEND_CORS_ORIGINS=https://your-domain.com

# ── File Upload ───────────────────────────────────────────────
MAX_UPLOAD_SIZE=10485760
UPLOAD_DIR=./uploads
ALLOWED_EXTENSIONS=.pdf,.csv,.xlsx,.xls,.doc,.docx

# ── AWS S3 (replaces MinIO) ──────────────────────────────────
# When running on EC2 with an IAM role, leave keys blank.
AWS_S3_BUCKET=portact-uploads
AWS_S3_REGION=ap-south-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ── MinIO (keep for S3-compatible access via MinIO SDK) ──────
# Point MinIO SDK at S3 endpoint for production
MINIO_ENDPOINT=s3.ap-south-1.amazonaws.com
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_BUCKET=portact-uploads
MINIO_SECURE=True

# ── AI / News ────────────────────────────────────────────────
AI_NEWS_PROVIDER=openai
OPENAI_API_KEY=your-openai-api-key
GROK_API_KEY=
OPENAI_API_ENDPOINT=https://api.openai.com/v1/chat/completions
GROK_API_ENDPOINT=https://api.x.ai/v1/chat/completions
OPENAI_MODEL=gpt-3.5-turbo
GROK_MODEL=grok-beta
AI_REQUEST_DELAY=2.0
AI_REQUEST_TIMEOUT=30
AI_MAX_RETRIES=3
AI_RETRY_DELAY=5.0
AI_MAX_TOKENS=800
AI_TEMPERATURE=0.3

# ── Market APIs ───────────────────────────────────────────────
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-key
FMP_API_KEY=demo
API_TIMEOUT=10
API_TIMEOUT_SHORT=5

# ── Schedulers ────────────────────────────────────────────────
PRICE_UPDATE_INTERVAL_MINUTES=30
EOD_SNAPSHOT_HOUR=13
EOD_SNAPSHOT_MINUTE=30
NEWS_MORNING_HOUR=9
NEWS_EVENING_HOUR=18
NEWS_LIMIT_PER_USER=10
MONTHLY_CONTRIBUTION_DAY=1
MONTHLY_CONTRIBUTION_HOUR=0
MONTHLY_CONTRIBUTION_MINUTE=30

# ── Redis ─────────────────────────────────────────────────────
REDIS_URL=redis://redis:6379/0

# ── Email / SMTP ──────────────────────────────────────────────
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAILS_FROM_EMAIL=noreply@your-domain.com
EMAILS_FROM_NAME=PortAct

# ── Logging ───────────────────────────────────────────────────
LOG_LEVEL=INFO
LOG_FILE=logs/app.log

# ── Frontend URL (for password reset emails) ──────────────────
FRONTEND_URL=https://your-domain.com
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=30
